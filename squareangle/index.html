<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { margin: 0 } svg { display: block; height: 100vh; width: 100vw; }
    </style>
    <script defer src="script.js"></script>
    <title>Royal Road - Squaring the Triangle</title>
</head>

<body>
    <svg viewBox="-10 -10 250 250">
        <defs>
            <symbol id="a">
                <rect width="50" height="50" />
            </symbol>

            <symbol id="b">
                <rect width="20" height="20" />
            </symbol>

            <symbol id="c">
                <polygon points="90,140 140,120 120,70 70,90" />
            </symbol>

            <symbol id="triangle">
                <polygon points="90,140 140,140 140,120" />
            </symbol>

            <pattern id="grid" viewbox="45,36,53.8516486320,53.8516486320" width="53.8516486320" height="53.8516486320"
                patternunits="userSpaceOnUse">
                <g fill="none" stroke-dasharray="3" stroke-width=".3">
                    <g transform="translate(-5,0) rotate(21.8, 50, 90)">
                        <g id="gridA" visibility="hidden">
                            <rect stroke="blue" width="50" height="50" x="30" y="-10" />
                            <rect stroke="blue" width="50" height="50" x="50" y="40" />
                            <rect stroke="blue" width="50" height="50" x="0" y="60" />
                        </g>
                        <g id="gridB" visibility="hidden">
                            <rect stroke="red" width="20" height="20" x="80" y="20" />
                            <rect stroke="red" width="20" height="20" x="30" y="40" />
                        </g>
                    </g>
                    <rect id="gridC" stroke="magenta" width="100%" height="100%" x="45" y="36" visibility="hidden" />
                </g>
            </pattern>
        </defs>

        <rect id="gridPattern" fill="url(#grid)" width="300%" height="300%" x="-100%" y="-100%"
            transform="translate(49.9,40) rotate(-21.8)" opacity="0.95"/>

        <g visibility="hidden">
            <!-- <text id="observerEyeSymbol" x="0" y="70" style=" font-size: 1.85em; ">⏿</text> -->
            <text id="questionedEqualTo" x="104" y="65" style=" font-size: 1.85em; ">≟</text>
            <use id="triangleMain" href="#triangle" fill="lime" />
            <use id="squareC" href="#c" fill="magenta" style="transform-origin: center;"></use>
            <g id="slices" shape-rendering="optimizeSpeed" stroke="black" stroke-width="0" fill="none">
                <g id="squareB">
                    <polygon id="smallB" fill="red" points="140,120 140,140 148,140" />
                    <polygon id="bigB" fill="red" points="160,140 160,120 140,120 148,140" />
                </g>
                <g id="squareA">
                    <use href="#triangle" fill="blue" />
                    <polygon id="smallA" fill="blue" points="140,120 140,90 128,90" />
                    <polygon id="bigA" fill="blue" points="90,90 90,140 140,120 128,90" />
                </g>
            </g>
        </g>

        <!-- <use id="triangleOutline" href="#triangle" fill="none" stroke="yellow" stroke-width="0" /> -->
    </svg>
</body>

</html>